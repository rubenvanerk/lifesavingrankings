{% extends "lifesaving_rankings/base.html" %}
{% load django_bootstrap_breadcrumbs %}

{% block head_title %}{% if public %}Public groups{% else %}My groups{% endif %}{% endblock %}

{% block breadcrumbs %}

    {% breadcrumb "Home" "/" %}
    {% if public %}
        {% breadcrumb "Analysis" "public-group-list" %}
    {% else %}
        {% breadcrumb "Analysis" "private-group-list" %}
    {% endif %}

    {% render_breadcrumbs "lifesaving_rankings/breadcrumb_template.html" %}

{% endblock %}

{% block content %}
    <h1>
        {% if public %}
            Public groups
        {% else %}
            My groups
        {% endif %}
    </h1>
    {% if public %}
        <a href="{% url 'private-group-list' %}" class="ui right labeled icon button">
            <i class="right arrow icon"></i>
            Go to My Groups
        </a>
    {% else %}
        <a href="{% url 'public-group-list' %}" class="ui left labeled icon button">
            <i class="left arrow icon"></i>
            Go to Public Groups
        </a>
    {% endif %}

    <a href="{% url 'group-create' %}" class="ui right floated left labeled primary icon button">
        <i class="plus square icon"></i>
        Create a group
    </a>

    <br>

    <table class="ui celled table">
        <thead>
        <tr>
            <th>Group id</th>
            <th>Group name</th>
            <th>Number of members</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for group in object_list %}
            <tr>
                <td>{{ group.id }}</td>
                <td>
                    {{ group.name }}
                </td>
                <td>{{ group.athletes.count }}</td>
                <td class="analysis-actions">


                    <div class="ui basic icon buttons">
                        <a href="{% url 'individual-analysis' group.id %}" class="ui button" data-tooltip="Individual analysis">
                            <i class="user icon"></i>
                        </a>
                        <a href="{% url 'relay-analysis' group.id %}" class="ui button" data-tooltip="Relay analysis">
                            <i class="users icon"></i>
                        </a>
                        {% if group.creator == request.user %}
                            <a href="{% url 'group-edit' group.id %}" class="ui button">
                                <i class="edit icon"></i>
                            </a>
                            <a href="{% url 'group-delete' group.id %}" class="ui button">
                                <i class="trash icon"></i>
                            </a>
                        {% endif %}
                    </div>

                </td>
            </tr>
        {% empty %}
            No groups yet.
        {% endfor %}
        </tbody>
    </table>


{% endblock %}